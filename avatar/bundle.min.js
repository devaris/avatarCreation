!function e(t,a,r){function o(i,s){if(!a[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(n)return n(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=a[i]={exports:{}};t[i][0].call(c.exports,function(e){var a=t[i][1][e];return o(a?a:e)},c,c.exports,e,t,a,r)}return a[i].exports}for(var n="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("./states/boot"),n=r(o),i=e("./states/game"),s=r(i),l=e("./states/menu"),u=r(l),c=e("./states/preloader"),f=r(c),h=e("./states/gameover"),d=r(h),p=new Phaser.Game(1340,1e3,Phaser.AUTO,"avatar_display-game",null,!0);p.state.add("boot",new n.default),p.state.add("game",new s.default),p.state.add("menu",new u.default),p.state.add("preloader",new f.default),p.state.add("gameover",new d.default),window.theGame=p},{"./states/boot":2,"./states/game":3,"./states/gameover":4,"./states/menu":5,"./states/preloader":6}],2:[function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return n(t,e),i(t,[{key:"preload",value:function(){this.load.image("preloader","assets/preloader.gif")}},{key:"create",value:function(){this.game.input.maxPointers=1,this.initGlobalVariables()}},{key:"carryOnLoading",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,"Creation"==this.game.global.type&&(this.game.scale.setGameSize(500,768),this.game.world.setBounds(0,0,1340,1e3)),"Full"==this.game.global.type&&(this.game.device.desktop?this.game.scale.pageAlignHorizontally=!0:(this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=640,this.game.scale.maxHeight=480,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0)),"Map"==this.game.global.type}},{key:"initGlobalVariables",value:function(){this.game.global={avatarInfo:{name:null,sex:"m",body:"peach_body_male",head:"smug_decisive_face_male_peach_body",hair:"blond_hair_short_male",dress:"dirty_white_dress_male"},avatarPositions:{m:{body:{x:497,y:477},head:{x:543,y:325},hair:{x:487,y:257},dress:{x:340,y:481},weapon:{right_hand:{x:353,y:523}},pet:{back:{x:0,y:0},front:{x:440,y:400}}},f:{body:{x:492,y:492},head:{x:531,y:359},hair:{x:470,y:278},dress:{x:340,y:503},weapon:{right_hand:{x:353,y:513}},pet:{back:{x:0,y:0},front:{x:0,y:0}}}},imagePath:"assets/parts-items/",rescaleAt:.18,type:"Creation",itemsJSON:null},void 0!=window.avatar.avatarInfo&&(this.game.global.avatarInfo=window.avatar.avatarInfo),void 0!=window.avatar.imagePath&&(this.game.global.imagePath=window.avatar.imagePath),void 0!=window.avatar.gameType&&(this.game.global.type=window.avatar.gameType),void 0!=window.avatar.itemsJSON?(this.game.global.itemsJSON=window.avatar.itemsJSON,this.carryOnLoading(),this.game.state.start("preloader")):(this.carryOnLoading(),window.storeApi.getDefaultAvatarCreationOptions(function(e,t){e||(Phaser.GAMES[0].global.itemsJSON=t,Phaser.GAMES[0].state.start("preloader"))}))}}]),t}(Phaser.State);a.default=s},{}],3:[function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.hair=null,e.head=null,e.body=null,e.dress=null,e.weapon=null,e.pet_back=null,e.pet_front=null,e}return n(t,e),i(t,[{key:"create",value:function(){var e,t,a;a=this.game.global.avatarInfo,e=this.game.global.avatarPositions[a.sex],this.game.stage.backgroundColor="rgba(68, 136, 170, 0.5)","Creation"==this.game.global.type&&this.game.camera.setPosition(340,257),this.pet_back=this.game.add.sprite(e.pet.back.x,e.pet.back.y),this.body=this.game.add.sprite(e.body.x,e.body.y,"body"),this.head=this.game.add.sprite(e.head.x,e.head.y,"head"),this.hair=this.game.add.sprite(e.hair.x,e.hair.y,"hair"),this.dress=this.game.add.sprite(e.dress.x,e.dress.y,"dress"),void 0!=a.weapon?this.weapon=this.game.add.sprite(e.weapon.right_hand.x,e.weapon.right_hand.y,"weapon"):this.weapon=this.game.add.sprite(e.weapon.right_hand.x,e.weapon.right_hand.y),this.pet_front=this.game.add.sprite(e.pet.front.x,e.pet.front.y),void 0!=a.pet&&(t=a.pet.held,this["pet_"+t].loadTexture("pet")),this.body.smoothed=this.head.smoothed=this.hair.smoothed=this.dress.smoothed=this.weapon.smoothed=this.pet_back.smoothed=this.pet_front.smoothed=!0}},{key:"update",value:function(){}},{key:"endGame",value:function(){this.game.state.start("gameover")}},{key:"changeItem",value:function(e,t){var a,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=function(){var e;"pet"!=t?e=Phaser.GAMES[0].state.states.game[t]:(Phaser.GAMES[0].state.states.game.pet_back.loadTexture(null),Phaser.GAMES[0].state.states.game.pet_front.loadTexture(null),e=Phaser.GAMES[0].state.states.game[t+"_"+o]),console.log("everything is loaded and ready to be used "+t),e.loadTexture(t)};a=Phaser.GAMES[0].global.avatarPositions[Phaser.GAMES[0].global.avatarInfo.sex],r=new Phaser.Loader(Phaser.GAMES[0]),r.image(t,e),r.onLoadComplete.addOnce(n),r.start()}}]),t}(Phaser.State);a.default=s},{}],4:[function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return n(t,e),i(t,[{key:"create",value:function(){var e=this.add.text(.5*this.game.width,.5*this.game.height,"Gameover",{font:"42px Arial",fill:"#ffffff",align:"center"});e.anchor.set(.5),this.saveVarsToLocalStorage(),this.input.onDown.add(this.restartGame,this)}},{key:"saveVarsToLocalStorage",value:function(){}},{key:"resetGlobalVariables",value:function(){}},{key:"update",value:function(){}},{key:"restartGame",value:function(){this.resetGlobalVariables(),this.game.state.start("menu")}}]),t}(Phaser.State);a.default=s},{}],5:[function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return n(t,e),i(t,[{key:"create",value:function(){var e=this.add.text(.5*this.game.width,.5*this.game.height,"START",{font:"42px Arial",fill:"#ffffff",align:"center"});e.anchor.set(.5),this.game.state.start("game")}},{key:"update",value:function(){}},{key:"startGame",value:function(){this.game.state.start("game")}}]),t}(Phaser.State);a.default=s},{}],6:[function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e.ready=!1,e}return n(t,e),i(t,[{key:"preload",value:function(){this.asset=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader"),this.load.setPreloadSprite(this.asset),this.loadResources()}},{key:"create",value:function(){this.game.state.start("game")}},{key:"update",value:function(){}},{key:"loadResources",value:function(){var e,t;e=this.game.global.avatarInfo,t=this.game.global.itemsJSON.storeItems,this.game.load.image("hair",t[e.hair].uri),this.game.load.image("head",t[e.head].uri),this.game.load.image("body",t[e.body].uri),this.game.load.image("dress",t[e.dress].uri),void 0!=e.weapon&&this.game.load.image("weapon",t[e.weapon.id].uri),void 0!=e.pet&&this.game.load.image("pet",t[e.pet.id].uri)}},{key:"onLoadComplete",value:function(){this.ready=!0}}]),t}(Phaser.State);a.default=s},{}]},{},[1]);
